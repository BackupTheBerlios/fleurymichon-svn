\section{Le respect du protocole}

Une Request For Comment (RFC) est un document qui décrit avec suffisemment de précisions le fonctionnement d'un protocole ou d'un standard, ce qui permet de normaliser les implémentations et par conséquent de créer des systèmes compatibles. Le protocole Internet Relay Chat (IRC) étant défini dans la RFC 1459, nous nous sommes efforcés respecter les spécifications fournies par ce précieux document. Ainsi, le serveur IRC Fleury respecte les prototypes décrits au niveau de l'utilisation des commandes, mais également au niveau des réponses générées et des éventuels messages d'erreurs entrainés par une mauvaise utilisation d'une commande.

\section{Les commandes disponibles}

\subsection{La commande PASS}

La commande PASS intervient au début de l'établissement d'une connexion entre un client et le serveur et sert à définir le mot de passe du client qui se connecte. Ce mot de passe sera utilisé plus tard, après l'implémentation de l'authentification dans le module de robots de gestion d'utilisateurs et de canaux.

\subsection{La commande NICK}

La commande NICK intervient également au début de la connexion et sert à définir le pseudonyme du client, qui sera utilisé pour dialoguer avec les autres clients. Elle peut également être utilisé par le client pendant une conversation pour changer de pseudonyme.

\subsection{La commande USER}

La commande USER est utilisée par le client pour définir son login et son nom réel. Elle n'est utilisée que durant l'établissement de la connexion.

\subsection{Les commandes PING/PONG}

La commande PING peut être utilisée indifféremment par les clients et serveurs pour vérifier l'état de la connexion avec n'importe quel autre client ou serveur cible, celui-ci devant répondre par un message PONG dans un délai dit de \og timeout \fg, avant d'être considéré comme déconnecté. Un message PING peut être envoyé à tous les clients par un serveur à intervalles réguliers pour fermer toutes les connexions fantômes, c'est-à-dire celles qui sont devenues inactives.

\subsection{La commande JOIN}

La commande JOIN est utilisée par un client pour rejoindre un canal dont il spécifiera le nom en paramètre. Le serveur envoie alors la commande JOIN avec le nom du nouveau venu à tous ceux qui sont présents sur le canal pour signaler son entrée. Le client est donc apte à dialoguer avec les autres sur ce canal. Heureusement, un client peut se connecter à plusieurs canaux en même temps.

\subsection{La commande PART}

La commande PART est utilisée par un client pour quitter un canal de discussion, cette commande sera alors broadcastée à tous les autres utilisateurs de ce canal.

\subsection{La commande QUIT}

La commande QUIT est utilisée par un client pour fermer la connexion avec le serveur. Le client peut passer en paramètre un éventuel message de départ. \\

\subsection{La commande PRIVMSG}

La commande PRIVMSG est utilisée lorsque un utilisateur désire s'adresser à un ou plusieurs utilisateurs du réseaux, mais également à un ou plusieurs canaux.

\subsection{La commande LIST}

La commande LIST est utilisée pour récupérer la liste des canaux visibles sur le serveur. Pour chaque canal, on reçoit plusieurs informations : le nom du canal, le nombre d'utilisateurs présents et le sujet de discussion relatif au canal.

\subsection{La commande TOPIC}

La commande TOPIC permet de récupérer ou de modifier le sujet de discussion d'un canal, il s'agit d'une phrase qui sert à définir l'intérêt du canal. En mode lecture, on reçoit également le pseudonyme de l'auteur du topic actuel ainsi que la date à laquelle il a été établi.

\subsection{La commande KICK}

La commande KICK est employée pour exclure un utilisateur d'un canal. On peut spécifier un motif d'expulsion pour justifier l'utilisation de la commande. Elle se révèle très pratique pour sanctionner le flood ou les propos calomnieux.

\subsection{La commande NAMES}

La commande NAMES sert à récupérer la liste des utilisateurs d'un canal, ainsi que leur mode sur ce canal, c'est-à-dire s'ils ont des privilèges \textit{opérateur} ou \textit{voice}.

\subsection{La commande WHO}

La commande WHO sert à afficher des informations détaillées sur un utilisateur en particulier ou bien sur tous les utilisateurs d'un canal.

\subsection{La commande MODE}

La commande MODE sert à consulter et définir les modes des canaux et des utilisateurs.

\subsubsection{Les modes des utilisateurs}

Les modes des utilisateurs permettent de les caractériser dans certains traitements de messages. Ainsi le mode +i active l'invisibilité pour certaines commandes de recherche d'utilisateurs. le mode +o global identifie les IRCops (les administrateurs du serveur) et ne peut être modifié par l'utilisateur, il est défini par le serveur à la suite d'une authentification réussie avec la commande OPER. Un utilisateur avec le mode +w (wallop) activé recevra les messages de notification de l'état du réseau.

\subsubsection{Les modes des canaux}

Les modes des canaux permettent principalement de définir des restrictions. Le mode +t permet de restreindre la modification du topic aux opérateurs du canal. Le mode +n désactive les messages externes, c'est-à-dire ceux émanant d'utilisateurs étrangers au canal. Le mode +m restreint la parole aux \textit{opérateurs} et \textit{voices}. Le mode +l définit le nombre maximal d'utilisateurs sur un canal. Le mode +k permet de définir un mot de passe pour le canal. Le mode +s rend le canal secret. Le mode +i le rend accessible sur invitation uniquement.

\subsubsection{Les modes des utilisateurs sur les canaux}

Le mode +b permet d'ajouter un masque de bannissement à la liste du canal pour interdire l'accès aux utilisateurs filtrés par ce masque. Les modes +o et +v permettent d'accorder des privilèges aux utilisateurs.
